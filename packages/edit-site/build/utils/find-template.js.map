{"version":3,"sources":["@wordpress/edit-site/src/utils/find-template.js"],"names":["window","fetch","findTemplate","path","getEntityRecords","then","res","json","data","newTemplateId","ID","resolved","slug","post_name","id"],"mappings":";;;;;;;;;;;;;AAGA;;AAHA;;;;AAKA;;;cAGkBA,M;IAAVC,K,WAAAA,K;AAER;;;;;;;;;SAQ8BC,Y;;;;;0FAAf,iBAA6BC,IAA7B,EAAmCC,gBAAnC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACSH,KAAK,CAC3B,uBAAcE,IAAd,EAAoB;AAAE,mCAAqB;AAAvB,aAApB,CAD2B,CAAL,CAErBE,IAFqB,CAEf,UAAEC,GAAF;AAAA,qBAAWA,GAAG,CAACC,IAAJ,EAAX;AAAA,aAFe,CADT;;AAAA;AAAA;AACNC,YAAAA,IADM,qBACNA,IADM;AAKVC,YAAAA,aALU,GAKMD,IAAI,CAACE,EALX;;AAAA,kBAMTD,aAAa,KAAK,IANT;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAQNL,gBAAgB,CAAE,UAAF,EAAc,aAAd,EAA6B;AAClDO,cAAAA,QAAQ,EAAE,IADwC;AAElDC,cAAAA,IAAI,EAAEJ,IAAI,CAACK;AAFuC,aAA7B,CARV;;AAAA;AAObJ,YAAAA,aAPa,iBAYT,CAZS,EAYLK,EAZK;;AAAA;AAAA,6CAePL,aAfO;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { addQueryArgs } from '@wordpress/url';\n\n/**\n * Browser dependencies\n */\nconst { fetch } = window;\n\n/**\n * Find the template for a given page path.\n *\n * @param {string}   path The page path.\n * @param {Function} getEntityRecords The promise-returning `getEntityRecords` selector to use.\n *\n * @return {number} The found template ID.\n */\nexport default async function findTemplate( path, getEntityRecords ) {\n\tconst { data } = await fetch(\n\t\taddQueryArgs( path, { '_wp-find-template': true } )\n\t).then( ( res ) => res.json() );\n\n\tlet newTemplateId = data.ID;\n\tif ( newTemplateId === null ) {\n\t\tnewTemplateId = (\n\t\t\tawait getEntityRecords( 'postType', 'wp_template', {\n\t\t\t\tresolved: true,\n\t\t\t\tslug: data.post_name,\n\t\t\t} )\n\t\t )[ 0 ].id;\n\t}\n\n\treturn newTemplateId;\n}\n"]}