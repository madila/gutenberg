{"version":3,"sources":["@wordpress/block-editor/src/components/block-types-list/index.js"],"names":["BlockTypesList","items","onSelect","onHover","children","label","composite","normalizedItems","orderId","reduce","acc","item","id","unstable_sort","map","icon","isDisabled","title"],"mappings":";;;;;;;;;AASA;;;;AANA;;AAKA;;AAMA;;AACA;;AAfA;;;;AAKA;;;;AAMA;;;AAMA,SAASA,cAAT,OAMI;AAAA,wBALHC,KAKG;AAAA,MALHA,KAKG,2BALK,EAKL;AAAA,MAJHC,QAIG,QAJHA,QAIG;AAAA,0BAHHC,OAGG;AAAA,MAHHA,OAGG,6BAHO,YAAM,CAAE,CAGf;AAAA,MAFHC,QAEG,QAFHA,QAEG;AAAA,MADHC,KACG,QADHA,KACG;AACH,MAAMC,SAAS,GAAG,gCAAlB;AACA,MAAMC,eAAe,GAAG,6CAAkCN,KAAlC,CAAxB;AACA,MAAMO,OAAO,GAAGD,eAAe,CAACE,MAAhB,CACf,UAAEC,GAAF,EAAOC,IAAP;AAAA,WAAiBD,GAAG,GAAG,IAAN,GAAaC,IAAI,CAACC,EAAnC;AAAA,GADe,EAEf,EAFe,CAAhB,CAHG,CAQH;;AACA,0BAAW,YAAM;AAChBN,IAAAA,SAAS,CAACO,aAAV;AACA,GAFD,EAEG,CAAEP,SAAS,CAACO,aAAZ,EAA2BL,OAA3B,CAFH;AAIA;AACC;;;;;AAIA;AACA,gCAAC,iBAAD,6BACMF,SADN;AAEC,MAAA,IAAI,EAAC,SAFN;AAGC,MAAA,SAAS,EAAC,+BAHX;AAIC,oBAAaD;AAJd,QAMGE,eAAe,CAACO,GAAhB,CAAqB,UAAEH,IAAF,EAAY;AAClC,aACC,4BAAC,yBAAD;AACC,QAAA,GAAG,EAAGA,IAAI,CAACC,EADZ;AAEC,QAAA,SAAS,EAAG,0CAA8BD,IAAI,CAACC,EAAnC,CAFb;AAGC,QAAA,IAAI,EAAGD,IAAI,CAACI,IAHb;AAIC,QAAA,OAAO,EAAG,mBAAM;AACfb,UAAAA,QAAQ,CAAES,IAAF,CAAR;AACAR,UAAAA,OAAO,CAAE,IAAF,CAAP;AACA,SAPF;AAQC,QAAA,OAAO,EAAG;AAAA,iBAAMA,OAAO,CAAEQ,IAAF,CAAb;AAAA,SARX;AASC,QAAA,YAAY,EAAG;AAAA,iBAAMR,OAAO,CAAEQ,IAAF,CAAb;AAAA,SAThB;AAUC,QAAA,YAAY,EAAG;AAAA,iBAAMR,OAAO,CAAE,IAAF,CAAb;AAAA,SAVhB;AAWC,QAAA,MAAM,EAAG;AAAA,iBAAMA,OAAO,CAAE,IAAF,CAAb;AAAA,SAXV;AAYC,QAAA,UAAU,EAAGQ,IAAI,CAACK,UAZnB;AAaC,QAAA,KAAK,EAAGL,IAAI,CAACM,KAbd;AAcC,QAAA,SAAS,EAAGX;AAdb,QADD;AAkBA,KAnBC,CANH,EA0BGF,QA1BH;AA4BA;;AAlCD;AAoCA;;eAEcJ,c","sourcesContent":["/**\n * External dependencies\n */\nimport { Composite, useCompositeState } from 'reakit';\n\n/**\n * WordPress dependencies\n */\nimport { getBlockMenuDefaultClassName } from '@wordpress/blocks';\nimport { useEffect } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport InserterListItem from '../inserter-list-item';\nimport { includeVariationsInInserterItems } from '../inserter/utils';\n\nfunction BlockTypesList( {\n\titems = [],\n\tonSelect,\n\tonHover = () => {},\n\tchildren,\n\tlabel,\n} ) {\n\tconst composite = useCompositeState();\n\tconst normalizedItems = includeVariationsInInserterItems( items );\n\tconst orderId = normalizedItems.reduce(\n\t\t( acc, item ) => acc + '--' + item.id,\n\t\t''\n\t);\n\n\t// This ensures the composite state refreshes when the list order changes.\n\tuseEffect( () => {\n\t\tcomposite.unstable_sort();\n\t}, [ composite.unstable_sort, orderId ] );\n\n\treturn (\n\t\t/*\n\t\t * Disable reason: The `list` ARIA role is redundant but\n\t\t * Safari+VoiceOver won't announce the list otherwise.\n\t\t */\n\t\t/* eslint-disable jsx-a11y/no-redundant-roles */\n\t\t<Composite\n\t\t\t{ ...composite }\n\t\t\trole=\"listbox\"\n\t\t\tclassName=\"block-editor-block-types-list\"\n\t\t\taria-label={ label }\n\t\t>\n\t\t\t{ normalizedItems.map( ( item ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<InserterListItem\n\t\t\t\t\t\tkey={ item.id }\n\t\t\t\t\t\tclassName={ getBlockMenuDefaultClassName( item.id ) }\n\t\t\t\t\t\ticon={ item.icon }\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tonSelect( item );\n\t\t\t\t\t\t\tonHover( null );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tonFocus={ () => onHover( item ) }\n\t\t\t\t\t\tonMouseEnter={ () => onHover( item ) }\n\t\t\t\t\t\tonMouseLeave={ () => onHover( null ) }\n\t\t\t\t\t\tonBlur={ () => onHover( null ) }\n\t\t\t\t\t\tisDisabled={ item.isDisabled }\n\t\t\t\t\t\ttitle={ item.title }\n\t\t\t\t\t\tcomposite={ composite }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t\t{ children }\n\t\t</Composite>\n\t\t/* eslint-enable jsx-a11y/no-redundant-roles */\n\t);\n}\n\nexport default BlockTypesList;\n"]}