{"version":3,"sources":["@wordpress/block-directory/src/store/resolvers.js"],"names":["getDownloadableBlocks","filterValue","path","results","blocks","map","result","value","key"],"mappings":";;;;;;;;;;;AAGA;;AAKA;;AAKA;;AAbA;;;;AAKA;;;;AAKA;;;eAKe;AACbA,EAAAA,qBADa,wEACUC,WADV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAENA,WAFM;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAOZ,mBAAM,sCAAyBA,WAAzB,CAAN;;AAPY;AAAA;AAQI,mBAAM,4BAAU;AAC/BC,cAAAA,IAAI,8CAAwCD,WAAxC;AAD2B,aAAV,CAAN;;AARJ;AAQNE,YAAAA,OARM;AAWNC,YAAAA,MAXM,GAWGD,OAAO,CAACE,GAAR,CAAa,UAAEC,MAAF;AAAA,qBAC3B,qBAASA,MAAT,EAAiB,UAAEC,KAAF,EAASC,GAAT,EAAkB;AAClC,uBAAO,uBAAWA,GAAX,CAAP;AACA,eAFD,CAD2B;AAAA,aAAb,CAXH;AAAA;AAiBZ,mBAAM,wCAA2BJ,MAA3B,EAAmCH,WAAnC,CAAN;;AAjBY;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,C","sourcesContent":["/**\n * External dependencies\n */\nimport { camelCase, mapKeys } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { apiFetch } from '@wordpress/data-controls';\n\n/**\n * Internal dependencies\n */\nimport { fetchDownloadableBlocks, receiveDownloadableBlocks } from './actions';\n\nexport default {\n\t*getDownloadableBlocks( filterValue ) {\n\t\tif ( ! filterValue ) {\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tyield fetchDownloadableBlocks( filterValue );\n\t\t\tconst results = yield apiFetch( {\n\t\t\t\tpath: `wp/v2/block-directory/search?term=${ filterValue }`,\n\t\t\t} );\n\t\t\tconst blocks = results.map( ( result ) =>\n\t\t\t\tmapKeys( result, ( value, key ) => {\n\t\t\t\t\treturn camelCase( key );\n\t\t\t\t} )\n\t\t\t);\n\n\t\t\tyield receiveDownloadableBlocks( blocks, filterValue );\n\t\t} catch ( error ) {}\n\t},\n};\n"]}