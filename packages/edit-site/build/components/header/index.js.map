{"version":3,"sources":["@wordpress/edit-site/src/components/header/index.js"],"names":["Header","openEntitiesSavedStates","isInserterOpen","onToggleInserter","select","__experimentalGetPreviewDeviceType","isFeatureActive","getTemplateId","getTemplatePartId","getTemplateType","getPage","getShowOnFront","deviceType","hasFixedToolbar","templateId","templatePartId","templateType","page","showOnFront","setPreviewDeviceType","__experimentalSetPreviewDeviceType","setTemplate","addTemplate","removeTemplate","setTemplatePart","setPage","isLargeViewport","displayBlockToolbar","plus"],"mappings":"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","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useViewportMatch } from '@wordpress/compose';\nimport {\n\tBlockNavigationDropdown,\n\tToolSelector,\n\tBlockToolbar,\n\t__experimentalPreviewOptions as PreviewOptions,\n} from '@wordpress/block-editor';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tPinnedItems,\n\t__experimentalMainDashboardButton as MainDashboardButton,\n} from '@wordpress/interface';\nimport { _x } from '@wordpress/i18n';\nimport { plus } from '@wordpress/icons';\nimport { Button } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport MoreMenu from './more-menu';\nimport PageSwitcher from '../page-switcher';\nimport TemplateSwitcher from '../template-switcher';\nimport SaveButton from '../save-button';\nimport UndoButton from './undo-redo/undo';\nimport RedoButton from './undo-redo/redo';\nimport FullscreenModeClose from './fullscreen-mode-close';\n\nexport default function Header( {\n\topenEntitiesSavedStates,\n\tisInserterOpen,\n\tonToggleInserter,\n} ) {\n\tconst {\n\t\tdeviceType,\n\t\thasFixedToolbar,\n\t\ttemplateId,\n\t\ttemplatePartId,\n\t\ttemplateType,\n\t\tpage,\n\t\tshowOnFront,\n\t} = useSelect( ( select ) => {\n\t\tconst {\n\t\t\t__experimentalGetPreviewDeviceType,\n\t\t\tisFeatureActive,\n\t\t\tgetTemplateId,\n\t\t\tgetTemplatePartId,\n\t\t\tgetTemplateType,\n\t\t\tgetPage,\n\t\t\tgetShowOnFront,\n\t\t} = select( 'core/edit-site' );\n\t\treturn {\n\t\t\tdeviceType: __experimentalGetPreviewDeviceType(),\n\t\t\thasFixedToolbar: isFeatureActive( 'fixedToolbar' ),\n\t\t\ttemplateId: getTemplateId(),\n\t\t\ttemplatePartId: getTemplatePartId(),\n\t\t\ttemplateType: getTemplateType(),\n\t\t\tpage: getPage(),\n\t\t\tshowOnFront: getShowOnFront(),\n\t\t};\n\t}, [] );\n\n\tconst {\n\t\t__experimentalSetPreviewDeviceType: setPreviewDeviceType,\n\t\tsetTemplate,\n\t\taddTemplate,\n\t\tremoveTemplate,\n\t\tsetTemplatePart,\n\t\tsetPage,\n\t} = useDispatch( 'core/edit-site' );\n\n\tconst isLargeViewport = useViewportMatch( 'medium' );\n\tconst displayBlockToolbar =\n\t\t! isLargeViewport || deviceType !== 'Desktop' || hasFixedToolbar;\n\n\treturn (\n\t\t<div className=\"edit-site-header\">\n\t\t\t<MainDashboardButton.Slot>\n\t\t\t\t<FullscreenModeClose />\n\t\t\t</MainDashboardButton.Slot>\n\t\t\t<div className=\"edit-site-header__toolbar\">\n\t\t\t\t<Button\n\t\t\t\t\tisPrimary\n\t\t\t\t\tisPressed={ isInserterOpen }\n\t\t\t\t\tonClick={ onToggleInserter }\n\t\t\t\t\ticon={ plus }\n\t\t\t\t\tlabel={ _x(\n\t\t\t\t\t\t'Add block',\n\t\t\t\t\t\t'Generic label for block inserter button'\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t\t<ToolSelector />\n\t\t\t\t<UndoButton />\n\t\t\t\t<RedoButton />\n\t\t\t\t<BlockNavigationDropdown />\n\t\t\t\t{ displayBlockToolbar && (\n\t\t\t\t\t<div className=\"edit-site-header-toolbar__block-toolbar\">\n\t\t\t\t\t\t<BlockToolbar hideDragHandle />\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t\t<div className=\"edit-site-header__toolbar-switchers\">\n\t\t\t\t\t<PageSwitcher\n\t\t\t\t\t\tshowOnFront={ showOnFront }\n\t\t\t\t\t\tactivePage={ page }\n\t\t\t\t\t\tonActivePageChange={ setPage }\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"edit-site-header__toolbar-switchers-separator\">\n\t\t\t\t\t\t/\n\t\t\t\t\t</div>\n\t\t\t\t\t<TemplateSwitcher\n\t\t\t\t\t\tpage={ page }\n\t\t\t\t\t\tactiveId={ templateId }\n\t\t\t\t\t\tactiveTemplatePartId={ templatePartId }\n\t\t\t\t\t\tisTemplatePart={ templateType === 'wp_template_part' }\n\t\t\t\t\t\tonActiveIdChange={ setTemplate }\n\t\t\t\t\t\tonActiveTemplatePartIdChange={ setTemplatePart }\n\t\t\t\t\t\tonAddTemplate={ addTemplate }\n\t\t\t\t\t\tonRemoveTemplate={ removeTemplate }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"edit-site-header__actions\">\n\t\t\t\t<PreviewOptions\n\t\t\t\t\tdeviceType={ deviceType }\n\t\t\t\t\tsetDeviceType={ setPreviewDeviceType }\n\t\t\t\t/>\n\t\t\t\t<SaveButton\n\t\t\t\t\topenEntitiesSavedStates={ openEntitiesSavedStates }\n\t\t\t\t/>\n\t\t\t\t<PinnedItems.Slot scope=\"core/edit-site\" />\n\t\t\t\t<MoreMenu />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n"]}