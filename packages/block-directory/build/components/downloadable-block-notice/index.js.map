{"version":3,"sources":["@wordpress/block-directory/src/components/downloadable-block-notice/index.js"],"names":["DownloadableBlockNotice","block","onClick","errorNotice","select","getErrorNoticeForBlock","id","message","isFatal","window","location","reload"],"mappings":";;;;;;;;;AAGA;;AACA;;AACA;;AALA;;;AAOO,IAAMA,uBAAuB,GAAG,SAA1BA,uBAA0B,OAA0B;AAAA,MAAtBC,KAAsB,QAAtBA,KAAsB;AAAA,MAAfC,QAAe,QAAfA,OAAe;AAChE,MAAMC,WAAW,GAAG,qBACnB,UAAEC,MAAF;AAAA,WACCA,MAAM,CAAE,sBAAF,CAAN,CAAiCC,sBAAjC,CAAyDJ,KAAK,CAACK,EAA/D,CADD;AAAA,GADmB,EAGnB,CAAEL,KAAF,CAHmB,CAApB;;AAMA,MAAK,CAAEE,WAAP,EAAqB;AACpB,WAAO,IAAP;AACA;;AAED,SACC,4BAAC,kBAAD;AACC,IAAA,MAAM,EAAC,OADR;AAEC,IAAA,aAAa,EAAG,KAFjB;AAGC,IAAA,SAAS,EAAC;AAHX,KAKC;AAAK,IAAA,SAAS,EAAC;AAAf,KACGA,WAAW,CAACI,OADf,CALD,EAQC,4BAAC,kBAAD;AACC,IAAA,OAAO,MADR;AAEC,IAAA,SAAS,MAFV;AAGC,IAAA,OAAO,EAAG,mBAAM;AACf,UAAKJ,WAAW,CAACK,OAAjB,EAA2B;AAC1BC,QAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACA,eAAO,KAAP;AACA;;AAEDT,MAAAA,QAAO,CAAED,KAAF,CAAP;AACA;AAVF,KAYGE,WAAW,CAACK,OAAZ,GAAsB,cAAI,QAAJ,CAAtB,GAAuC,cAAI,OAAJ,CAZ1C,CARD,CADD;AAyBA,CApCM;;;eAsCQR,uB","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Button, Notice } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\n\nexport const DownloadableBlockNotice = ( { block, onClick } ) => {\n\tconst errorNotice = useSelect(\n\t\t( select ) =>\n\t\t\tselect( 'core/block-directory' ).getErrorNoticeForBlock( block.id ),\n\t\t[ block ]\n\t);\n\n\tif ( ! errorNotice ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Notice\n\t\t\tstatus=\"error\"\n\t\t\tisDismissible={ false }\n\t\t\tclassName=\"block-directory-downloadable-block-notice\"\n\t\t>\n\t\t\t<div className=\"block-directory-downloadable-block-notice__content\">\n\t\t\t\t{ errorNotice.message }\n\t\t\t</div>\n\t\t\t<Button\n\t\t\t\tisSmall\n\t\t\t\tisPrimary\n\t\t\t\tonClick={ () => {\n\t\t\t\t\tif ( errorNotice.isFatal ) {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tonClick( block );\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t{ errorNotice.isFatal ? __( 'Reload' ) : __( 'Retry' ) }\n\t\t\t</Button>\n\t\t</Notice>\n\t);\n};\n\nexport default DownloadableBlockNotice;\n"]}